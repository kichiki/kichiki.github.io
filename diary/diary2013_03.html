<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="robots" content="noindex,nofollow" />
    <meta property="fb:admins" content="712852254" />
    <title>Open Diary - March 2013</title>
    <link rev="made" href="mailto:kengoichiki@yahoo.com" />
    <link rel="stylesheet" type="text/css" href="diary.css" />
    <link rel="icon" href="images/favicon-16.png" />
    <script type="text/javascript" src="LaTeXMathML.js"></script>
  </head>

<body>

<table class="header"
 width="100%" border="0" cellspacing="0" cellpadding="0"
 summary="header">
 <tr>
  <td align="left">

<h1><a id="top"></a> <img src="images/NIKKI.png"
width="166" height="57"
alt="日記 -" /> 2013年3月</h1>
  </td>
  <td align="right">
<p>
[<a href="index.html">日記一覧</a>]
[<a href="../index-j.html">トップ</a>]
</p>
  </td>
 </tr>
</table>

<div class="body">

<hr />

<h2><a id="d20"></a>3/20 (Wed)</h2>
<ul>
 <li><a id="d20-brad"></a>[music]ブラッド先生の楽譜を買った。
 <ul>
  <li><a href="http://www.artistshare.com/v4/projects/experience?artistID=114&projectID=187&langID=1&recordID=&salestypeID=6">Brad Mehldau Printed Music</a>@artistshare.com から。
  <ul>
   <li>どんな内容なのか、何もわからないので、とりあえず１つだけ試しに。</li>
   <li>ということで、 Highway Rider から一番好きな曲の一つ
    <a href="http://www.artistshare.com/v4/Projects/OfferDetails/114/187/1876/1/6">Sky Turning Grey (Lead sheet)</a> を選択。 $6.95 なり。</li>
  </ul>
  </li>
  <li>今日のツイートから(<a href="https://twitter.com/ichiki_k/status/314259797820198912">ichiki_k/status/314259797820198912</a>)
  <blockquote>
   カード持ったので前から欲しかった<br />
   ブラッド先生のシートミュージックを試しに１つ買ってみた。<br />
   Highway Riderの一曲、Sky Turning Grey.<br />
   耳がヘタレなので、コードもだが、ベースも取れない。<br />
   みるとやっぱり半音下降だね<br />
   <a href="http://www.artistshare.com/v4/projects/experience?artistID=114&projectID=187&langID=1&recordID=&salestypeID=6">http://www.artistshare.com/v4/projects/experience?artistID=114&projectID=187&langID=1&recordID=&salestypeID=6</a><br /><br />
   2013年3月20日 - 15:19
  </blockquote>
  </li>
  <li>あ、記述に１つ間違いがあった、というツイート(<a href="https://twitter.com/ichiki_k/status/314271456844451842">ichiki_k/status/314271456844451842</a>)</li>
 </ul>
 </li>
 <li><a id="d20-itoi"></a>[blog]
  03月20日の<a href="http://www.1101.com/home.html">今日のダーリン</a>
  「フリーとは自由であります。」@1101
  (<a href="LOCAL/20130320-1101.html">lc</a>)
 <ul>
  <li>いといさんのツイート(<a href="https://twitter.com/itoi_shigesato/status/314059732572844033">itoi_shigesato/status/314059732572844033</a>)から
  <blockquote>
   フリーとは自由であります。<br />
   自由というのは、乗りこなすための技術が必要なのです。<br />
   あっちやこっちに進路が寄りすぎると事故になります。<br />
   「おっと危ない」という思いを何度もすることによって、<br />
   フリーの危険から身を守る術を身につけるのです。<br />
   ⇒9時更新の「ほぼ日」フリーという働き方の話。<br /><br />
   2013年3月20日 - 2:04
  </blockquote>
  </li>
 </ul>
 </li>
 <li>[run]<a href="http://relay-marathon.com/">金沢城リレーマラソン</a>にエントリー完了！
 <ul>
  <li><a href="https://www.facebook.com/Speak.EZ.Kanazawa">Speak EZ 英会話サークル</a> のマラソン部として。</li>
  <li>現在の予定では、フルの２２区間をランナー１２人で４時間以内に走る！
   結構タフだと思われる。がんばってトレーニングしようっと。</li>
 </ul>
 </li>
</ul>

<hr />

<h2><a id="d17"></a>3/17 (Sun)</h2>
<ul>
 <li><a id="d17"></a>[run]ランニング。
 <ul>
  <li>今日のツイート(<a href="https://twitter.com/ichiki_k/status/313310794479710209">ichiki_k/status/313310794479710209</a>)
  <blockquote>
   有言実行 (^^)/<br />
   Just posted a 7.68 km run with @RunKeeper.<br />
   Check it out! <a href="http://rnkpr.com/a2m39sg">http://rnkpr.com/a2m39sg</a>  #RunKeeper<br /><br />
   2013年3月18日 - 0:28
  </blockquote>
  </li>
  <li><a href="http://runkeeper.com/user/ichiki/activity/158036560">Mar 17, 2013  ::  11:34 PM - 12:18 AM</a>@runkeeper
  <ul>
   <li>7.68km / 44:08 / Avg. Pace 5:45min/km</li>
  </ul>
  </li>
 </ul>
 </li>
</ul>

<h2><a id="d15"></a>3/15 (Fri)</h2>
<ul>
 <li><a id="d15"></a>[run]ランニング。
 <ul>
  <li><a href="http://runkeeper.com/user/ichiki/activity/157436797">Mar 16, 2013  ::  12:28 AM - 1:13 AM</a>@runkeeper
  <ul>
   <li>7.37km / 45:21 / Avg. Pace 6:09min/km</li>
  </ul>
  </li>
 </ul>
 </li>
</ul>

<hr />

<h2><a id="d10"></a>3/10 (Sun)</h2>
<ul>
 <li><a id="d10-running"></a>[run]ランニング再開。
 <ul>
  <li>今日のツイート(<a href="https://twitter.com/ichiki_k/status/310761703208001536">ichiki_k/status/310761703208001536</a>)
  <blockquote>
   昨日暖かかったので走ろうと思ってたら酒飲んだので（家飲み）やめた分、<br />
   今日走った。３ヶ月ぶり、今年初。<br />
   昨日と打って変わって寒かった。<br />
   ３ヶ月ぶりにしては、走れた気がする。<br />
   焦らずにコツコツといこう（さもないと、故障するから）<br />
   <a href="http://runkeeper.com/user/ichiki/activity/155956094">http://runkeeper.com/user/ichiki/activity/155956094</a><br /><br />
   2013年3月10日 - 23:38
  </blockquote>
  </li>
  <li><a href="http://runkeeper.com/user/ichiki/activity/155956094">Mar 10, 2013  ::  10:22 PM - 11:21 PM</a>@runkeeper
  <ul>
   <li>9.65km / 58:33 / Avg. Pace 6:04min/km</li>
  </ul>
  </li>
  <li>付記(3/20/2013): とかって日記をまとめてたら、
   ちょうど一年前(<a href="diary2012_03.html#d10-running">3/10/2012</a>)にも
   「ランニング、復活！３ヶ月ぶり」という記述があって、苦笑した。</li>
 </ul>
 </li>
</ul>

<h2><a id="d9"></a>3/9 (Sat)</h2>
<ul>
 <li><a id="d9-mac"></a>
  [mac]MacBook Pro 15 Retina (mid 2012) 購入。
 <ul>
  <li>少し前に会社で、近くのパソコンショップ「<a href="http://www.zoa.co.jp/shop/pc04.html">パソコンの館</a>」で、 15 インチのレティナの macbook pro が
   １５万円で出てる！と話題になってた（し、会社でも１台購入した）</li>
  <li>よく見ると、モデルが１つ前の「mid 2012」だが、
   現行品との違いは CPU のクロックだけみたい
   （2.3GHz が 2.4GHz になってる）</li>
  <li>最近 apple store で価格改定があったようで、当の
   <a href="http://store.apple.com/jp/browse/home/shop_mac/family/macbook_pro">15 インチのレティナ</a> は現在￥198,800になっている。</li>
  <li>「そうか、５万円も安いのかぁ」と、しばらく羨ましい気分で悩んでいたが、
   今使ってる macbook の storage が、見ればたったの 160GB で、
   件の 15 インチのレティナは SSD で 256GB も乗っているのを発見し、
   個人的には唯一の難点である日本語キーボードも妥協してしまえ、
   と一気に決心してしまった。</li>
  <li>で、午後になって店に行って、店員さんを捕まえて聞いてみたら、
   「昨日はあったんですが……在庫確認してみますね」と消えていって、
   戻ってきたら「他店に回してしまって、在庫はない」と。
  <ul>
   <li>１つランクの上のモデルはあるけど、そっちは私の対象外（金銭的に）。</li>
   <li>この製品（mid 2012）はもう出回ってなくて、現行品なら在庫は既にある、と。
    値段を聞くと、頑張って＋２万円、と。</li>
   <li>CPU のクロックを 0.1GHz 上げるだけでこの値段を払う気は起きないなぁ。</li>
   </ul>
  </li>
  <li>考えれば、目の前の機械はこのモデルなので、「この展示品は買えるのか」と
   聞いてみる。店長（？）に聞いてきて
   「３０００円引き、これ以上は出ません」と。うーん、そんなもんか、と思ったが、
   これでよしとする。</li>
  <li>展示品なので、既に動作する環境になってるが、
   OS を初期化するようにお願いする。
  <ul>
   <li>が、よく見るとこれ、 Lion が走ってる。</li>
   <li>Moutain Lion にアップデートしてくれないのか聞いてみると、
    お店の人は、１７００円払って買ってください、と。</li>
   <li>それなら Lion を初期化してもらうのも意味ないな、と思って、
    即、持ち帰ることにする。</li>
   <li>付記：帰宅後、調べてみたら、こんなこと書いてあった：
    <a href="http://www.apple.com/osx/uptodate/">OS X Mountain Lion Up-to-Date Program</a>
   <pre>
If you recently bought a new Mac from Apple or an Apple Authorized Reseller
 that doesn’t include OS X Mountain Lion,
 you may qualify for a free upgrade from the Mac App Store.

Your completed order must be entered within 30 days of the date of your
 purchase of a qualifying computer (described in this offer).
   </pre>
   </li>
  </ul>
  </li>
  <li>ツイート(<a href="https://twitter.com/ichiki_k/status/310315885237764096">ichiki_k/status/310315885237764096</a>)
  <blockquote>
   誘惑に負け、新しいマック買った、１５インチレティナ（mid 2012）<br />
   ／店に行ったら「在庫は他店に回して、ない」と聞いて焦ったが<br />
   結局、展示品を３千円オフで手入<br />
   （よく見るとOSはまだライオンだ…）<br />
   今の機械も５年になるし、ま、いいだろう<br />
   <a href="diary2008_11.html#d14-mac">http://kichiki.github.com/diary/diary2008_11.html#d14-mac</a><br /><br />
   18:07 - 2013年3月9日
  </blockquote>
  </li>

  <li>OS の初期化について調べる。
  <ul>
   <li><a href="http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1195488641">オークションでmacbook pro retinaを購入したのですが、OSセットアップの方法が判...</a>@yahoo.co.jp
   <ul>
    <li>1) コマンド＋Rキーを押しながら起動します。</li>
    <li>2) リカバリHDから起動するので、そのまま起動します。</li>
    <li>3) インストール用のユーティリティが立ち上がるので、
     OSをインストールします。
     その時に、新規でインストールしてください。（上書きでは無く）
     これで、OSがまっさらな状態でインストールされるはずです。
     （Ritenaなら10.7.4以降がインストールされるはず。）</li>
    <li>4) インストールが終了したら、今と同じように進めてください。</li>
   </ul>
   </li>
   <li><a href="http://powerapple.at.webry.info/201206/article_43.html">OS X Lionがプリインストールされた中古Macの購入は超・要注意。売りに出す側も同様。 (2012/06/28 11:02)</a>@powerapple.at.webry.info
   </li>
   <li><a href="http://support.apple.com/kb/HT4718?viewlocale=ja_JP">OS X：OS X での復元について</a>@support.apple.com
   </li>
  </ul>
  </li>

  <li><a href="summaries.html#notebooks">サマリー：これまでのノートブック</a></li>
 </ul>
 </li>
</ul>

<hr />

<h2><a id="d3"></a>3/3 (Sun)</h2>
<ul>
 <li><a id="d3-waon"></a>[WaoN][github] WaoN の Win32 バイナリをリリース。
 <ul>
  <li><a href="#d2-waon">昨日</a>のつづき。</li>
  <li>gwaon で、 wav ファイルを開くと落ちる問題(<a href="diary2011_02.html#d27-gwaon">2/27/2011</a>)が解決。
  <ul>
   <li>詳しく調べていったら（と言っても、結果的には
    <a href="http://www.xiph.org/ao/">libao</a> の
    <a href="http://www.xiph.org/ao/doc/ao_example.c">サンプルコード</a>
    と、一つずつ確認していったら、ってことだけど）
    間違いを見つけた、という顛末だったんだけど…。</li>
   <li>ao_device の初期化部分で、
   <pre>
/* -- Initialize -- */
ao_initialize();

/* -- Setup for default driver -- */
int default_driver = ao_default_driver_id();

ao_sample_format format;
<font color="red">memset(&format, 0, sizeof(format));</font>
format.bits = 16;
format.channels = 2;
format.rate = 44100;
format.byte_format = AO_FMT_LITTLE;

/* -- Open driver -- */
ao_device *device = ao_open_live(default_driver, &format, NULL /* no options */);
   </pre>
    上の memset() の１行が、ぼくのコードには入ってなかった…。</li>
   <li>分かってみれば「なるほど、それで挙動不審だったのか」と納得するが
    （多分、初期化されてない部分が問題を起こす時があったのだろう）、
    この１行は、最近になって必要になったのだろうか？
    だって、絶対にオレ、サンプルコードを丸写ししたはずなので、
    ここだけ抜かすなんて器用な事、しないと思う…。</li>
   <li>commit: <a href="https://github.com/kichiki/WaoN/commit/c6f69f7b1d17cce2eed0f0152624bd3ad10487de">c6f69f7b1d17cce2eed0f0152624bd3ad10487de</a>
   <pre>
bug fixed on ao_device initialization.
   </pre>
   </li>
  </ul>
  </li>
  <li>と、スッキリしたところで、 Windows のバイナリをまとめる。</li>
  <li>実は、メールのアーカイブを調べてみたら、2010年4月21日に
   David Millis さんという方から、当時の WaoN (バージョン 0.9) を
   MinGW でビルドした、とメールを頂いていた。
  <ul>
   <li>彼は、 CUI な <a href="http://kichiki.github.com/waon/index.html">waon</a> のみビルドしてて、
    「curses を使った <a href="http://kichiki.github.com/waon/pv.html">pv</a> と GTK+ を使った <a href="http://kichiki.github.com/waon/gwaon.html">gwaon</a> は難しそう」
    とのことだった。</li>
   <li>親切にも、パッチだけでなくバイナリ（必要な dll 込み）も
    送ってもらってたが、
    多分バタバタしてたんだろう、結局、見えるところに置く事もしてなかった。</li>
   <li>ということで、まずは、頂いたパッチを適用しておく。</li>
   <li>commit: <a href="https://github.com/kichiki/WaoN/commit/be49359ed053a9c3ff304b5f95747141ea83d863">be49359ed053a9c3ff304b5f95747141ea83d863</a>
   <pre>
import MinGW patch provided by David Millis.
   </pre>
   </li>
   <li>見れば、先週ぼくが自分でやってた porting は、
    かなり適当だったことが分かる。
    （というのは、 stdout の file descriptor を取得する部分のこと。）</li>
  </ul>
  </li>
  <li>この上に、ぼくのやった他の porting を乗せることにする。
  <ul>
   <li><a href="http://kichiki.github.com/waon/pv.html">pv</a> は、（後でメールを確認したときに気づいた事だが、
    David が件のメールの中で suggest してくれてた）
    public domain な実装 <a href="http://pdcurses.sourceforge.net/">pdcurses</a>
    を使ったら、コードは何も変更なく、リンクすればそれだけでうまくいった。</li>
   <li><a href="http://kichiki.github.com/waon/gwaon.html">gwaon</a> に関しては、ここしばらく仕事で GTK+ なコードを Windows で
    動かすことに挑戦してて、「<a href="http://kevinboone.net/gtkwindows.html">Building native graphical applications in C for MS Windows, using GTK+ and open-source tools</a>」(Kevin Boone)に従ったら簡単に動いたので、
    そのまま <a href="http://kichiki.github.com/waon/gwaon.html">gwaon</a> もビルドしたら動いた。
    （でも、アイコンをまだ作ってない。
    誰か、かっこいいやつ、描いてくれないかなぁ〜）</li>
   <li>commit: <a href="https://github.com/kichiki/WaoN/commit/a3e23de7b96bab16ca8be8c27c9996eacb89944c">a3e23de7b96bab16ca8be8c27c9996eacb89944c</a>
   <pre>
MinGW port: add Makefiles for win32 builds.
   </pre>
    見てとのおり、David Millis 氏のパッチのおかげで、ソースは修正なし。</li>
  </ul>
  </li>
  <li><a href="http://kichiki.github.com/waon/index.html">web page</a> の方も改訂しておく。
  <ul>
   <li><a href="http://kichiki.github.com/waon/dist/index.html">ダウンロード・セクション</a>を作った。</li>
   <li>commit: <a href="https://github.com/kichiki/kichiki.github.com/commit/5d8fccdd5e4cdc10d45701b8ea4043117e0609e6">5d8fccdd5e4cdc10d45701b8ea4043117e0609e6</a>
   <pre>
update WaoN project page.

adding Download page waon/dist/index.html.
also add tar.gz files for each release and win32 binaries.
   </pre>
   </li>
  </ul>
  </li>
  <li>ってことなので、これまで WaoN に興味あったけど、
   Windows マシンしかなくてビルドできない！と悔しい思いをしていた皆さん、
   まだ確認作業などほとんどしてない状態ですが、ダウンロード
   (<a href="http://kichiki.github.com/waon/dist/waon-0.11-mingw.zip">waon-0.11-mingw.zip</a>)して、
   どんどん遊んでみてください。</li>
 </ul>
 </li>
</ul>

<h2><a id="d2"></a>3/2 (Sat)</h2>
<ul>
 <li><a id="d2-waon"></a>[WaoN][github] WaoN も github にお引越。
 <ul>
  <li><a href="diary2013_02.html#d24-github">2/24/2013</a>のつづき。</li>
  <li>前回の RYUON の時に手順ははっきりしたので、そのまま。
  <pre>
# prepare a working directory
% mkdir somewhere
% cd somewhere

# download CVS repository from SF
% rsync -av rsync://waon.cvs.sourceforge.net/cvsroot/waon/ waon

# convert CVS to GIT
# prepare authors.txt if you want
% mkdir repo
% cd repo
% git cvsimport -v -A ../authors.txt -d ../waon -C waon waon

# create a repository on GitHub (as WaoN.git)

# push to GitHub
# in repo directory
% git remote add origin https://github.com/kichiki/WaoN.git
% git push -u origin master
  </pre>
  </li>
  <li>できたレポジトリ (<a href="https://github.com/kichiki/WaoN">https://github.com/kichiki/WaoN</a>) の「Settings」タブから「GitHub Pages」セクションの「Automatic Page Generator」ボタンをクリックして、
   WaoN レポジトリのページを作る。
  <ul>
   <li>できた。 <a href="http://kichiki.github.com/WaoN">http://kichiki.github.com/WaoN</a></li>
   <li>レポジトリのページに戻って、一番上のサマリの左側にマウスを持ってって「Edit」をクリックして、このページを登録しておく。</li>
  </ul>
  </li>
  <li>前回、ユーザーページの方に持ってきておいた WaoN 関係のページへのリンクを追加しておく。
  <ul>
   <li><a href="http://kichiki.github.com/waon/index.html">WaoN</a></li>
   <li><a href="http://kichiki.github.com/waon/pv.html">pv</a></li>
   <li><a href="http://kichiki.github.com/waon/gwaon.html">gWaoN</a></li>
  </ul>
  </li>
  <li><a href="#d3-waon">3/3/2013</a>:
   Win32 バイナリ（waon, pv, gwaon）をプレリリース</li>
 </ul>
 </li>
</ul>

<hr />

</div><!-- end of body -->

<table class="footer"
 width="100%" border="0" cellspacing="0" cellpadding="0"
 summary="footer">
 <tr>
  <td align="left">
Copyright (C) 1997-2013, Kengo Ichiki
<br />
twitter: @<a href="http://twitter.com/ichiki_k">ichiki_k</a><br />
facebook: <a href="http://www.facebook.com/kengo.ichiki">Kengo Ichiki</a>
  </td>
  <td>

<!-- motigo webstats for Infoseek -->
<a id="mws1196334" href="http://webstats.motigo.com/">
<img width="18" height="18" border="0" alt="Free counter and web stats" src="http://m1.webstats.motigo.com/n.gif?id=ABJBLgPmCHIB5A59buMkc0vHZpwg" /></a>
<script src="http://m1.webstats.motigo.com/c.js?id=1196334" type="text/javascript"></script>
<!-- End Motigo Webstats counter code -->

<!--WEBBOT bot="HTMLMarkup" startspan ALT="Site Meter" -->
<a href="http://s10.sitemeter.com/stats.asp?site=s10kengoichiki">
<img src="http://s10.sitemeter.com/meter.asp?site=s10kengoichiki"
 width="38" height="15" alt="Site Meter" /></a>
<!--WEBBOT bot="HTMLMarkup" Endspan -->

  </td>
  <td align="right">
<p>
[<a href="index.html">日記一覧</a>]
[<a href="../index-j.html">トップ</a>]
</p>
  </td>
 </tr>
</table>

</body>
</html>
